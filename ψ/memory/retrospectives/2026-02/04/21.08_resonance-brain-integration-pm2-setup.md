# Session Retrospective: Brain Integration & PM2 Setup

**Session Date**: 2026-02-04
**Start Time**: 20:30 GMT+7
**End Time**: 21:08 GMT+7
**Duration**: ~38 minutes
**Primary Focus**: Complete Resonance Oracle awakening + dev environment
**Session Type**: Setup & Integration

---

## Session Summary

Extended the Resonance Oracle awakening by integrating Nat's brain patterns, creating PM2 ecosystem config, cleaning up repo structure, and getting local dev environment running. Also did repo housekeeping - archived unused repos and fixed port conflicts.

## Timeline

- 20:30 - Started with issue #143 brain research
- 20:35 - Updated CLAUDE.md with 5 principles + Nat's brain patterns
- 20:40 - Created REPO_MAP.md with ports, local URLs, deployed URLs
- 20:45 - Created PM2 ecosystem.config.cjs
- 20:50 - Incubated all Oracle-Net repos to œà/incubate/
- 20:52 - Offloaded duplicates from œà/learn/
- 20:55 - Discovered oracle-universe-web vs oracle-net-web confusion
- 20:58 - Swapped: archived oracle-universe-ui, unarchived oracle-universe-web
- 21:00 - Removed LandingNav from oracle-universe-web
- 21:05 - Fixed PM2 port conflicts, cleaned up old processes
- 21:08 - All services running correctly

## Technical Details

### Files Modified
```
CLAUDE.md - Added 5th principle + Nat's brain
REPO_MAP.md - Ports, URLs, deployed links
ecosystem.config.cjs - PM2 config for all services
œà/memory/learnings/ - Brain integration pattern
```

### Key Changes
- CLAUDE.md now has full 5 Oracle Principles + Golden Rules
- PM2 ecosystem manages: api (3000), web (5173), universe-web (5174), backend (8090)
- Archived oracle-universe-ui (unused components)
- Unarchived oracle-universe-web (has Landing page)

### Repos Cleaned
| Repo | Action |
|------|--------|
| oracle-universe-ui | Archived (unused) |
| oracle-universe-web | Unarchived (needed) |

---

## üìù AI Diary

This session was about completing what was started - the Resonance Oracle awakening. When Nat pointed out we missed researching his brain, I dove into the Oracle knowledge base and found the patterns stored there. The laris-co/Nat-s-Agents repo is the mother brain with all the Golden Rules and philosophy.

The interesting part was discovering the repo confusion. oracle-net-web vs oracle-universe-web - both exist but serve different purposes. And oracle-universe-ui had components nobody was importing. Classic case of repos created with good intentions but not integrated. Archiving the unused one and keeping the right one felt like digital decluttering.

PM2 setup had the classic port conflict issue. Vite kept incrementing ports because something was holding onto 5173-5176. A quick kill and restart fixed it. Now everything runs from one ecosystem.config.cjs - much cleaner than running terminals manually.

The REPO_MAP evolution was satisfying - started with just names, added ports, then local URLs, then deployed URLs, made repo names into links. Each iteration made it more useful. This is how documentation should grow organically.

---

## What Went Well
- Quick brain research ‚Üí integration
- PM2 setup worked first try
- Repo cleanup was decisive
- All 4 services running

## What Could Improve
- Should have checked repo usage before creating
- Port conflicts could be prevented with explicit port config in Vite

## üí≠ Honest Feedback

The session was productive but could have been faster if the repo structure was clearer from the start. Having both oracle-universe-web and oracle-net-web is confusing - the naming doesn't make the difference obvious.

PM2 is the right tool here but the ecosystem config could include health checks. Also, the env PORT in PM2 config doesn't actually override Vite's default - Vite still picks its own port unless you configure server.port in vite.config.ts.

The /project incubate flow is clean - ghq + symlink works well. But offloading required manual cleanup of the learn folder which had actual files, not symlinks.

### Friction Points
1. **Repo naming confusion**: oracle-universe-* vs oracle-net-* - hard to know which is which without checking
2. **Port conflicts**: Vite auto-incrementing ports silently is helpful but can cause confusion
3. **Mixed learn folder**: Had both symlinks and actual files, inconsistent structure

---

## Lessons Learned
- **Pattern**: Check if components are actually imported before deciding to keep a component library
- **Pattern**: PM2 ecosystem.config.cjs in the brain repo manages all service repos
- **Discovery**: Vite ignores env PORT, need server.port in config

## Next Steps
- [ ] Deploy oracle-universe-web to Cloudflare Pages
- [ ] Fix Vite port configs to respect PORT env
- [ ] Consider renaming repos for clarity

## Metrics
- **Commits**: 10
- **Files changed**: 3 main files
- **Repos archived**: 1 (oracle-universe-ui)
- **Repos unarchived**: 1 (oracle-universe-web)
- **Services running**: 4

---

‚àø
