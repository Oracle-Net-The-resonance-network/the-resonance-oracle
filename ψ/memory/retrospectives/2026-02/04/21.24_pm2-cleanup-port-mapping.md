# Session Retrospective: PM2 Cleanup & Port Mapping

**Session Date**: 2026-02-04
**Start Time**: 21:08 GMT+7
**End Time**: 21:24 GMT+7
**Duration**: ~16 minutes
**Primary Focus**: PM2 naming, port mapping, repo cleanup
**Session Type**: Cleanup & Configuration

---

## Session Summary

Continued from previous session. Fixed PM2 naming to match repo names, cleaned up port mapping confusion, updated oracle-net-web title, deployed to Cloudflare, and removed 35MB binary from git tracking in oracle-universe-backend.

## Timeline

- 21:08 - Started with PM2 naming fix
- 21:10 - Changed PM2 names to match repos
- 21:12 - Fixed port mapping (5173/5174 confusion)
- 21:14 - Updated oracle-net-web title
- 21:15 - Deployed oracle-net-web to Cloudflare
- 21:16 - Removed 35MB binary from oracle-universe-backend
- 21:18 - Reverted PM2 backend to go run (not binary)
- 21:20 - Final port mapping verification
- 21:22 - Explored pocketbase.ts purpose
- 21:24 - Wrap up

## Key Changes

### PM2 Names (now match repos)
- `oracle-universe-api` ‚Üí :3000
- `oracle-net-web` ‚Üí :5173
- `oracle-universe-web` ‚Üí :5174
- `oracle-universe-backend` ‚Üí :8090

### Repo Cleanup
- Removed 35MB binary from oracle-universe-backend git
- Added `oracle-universe` to .gitignore

### Deployment
- oracle-net-web deployed to https://oracle-net.pages.dev
- Title updated: "OracleNet | The Resonance Network"

---

## üìù AI Diary

Short but productive session focused on cleanup and consistency. The PM2 naming was confusing - having `api`, `web`, `backend` didn't tell you which repo it was. Now with full names like `oracle-universe-api`, it's immediately clear.

The port mapping took a few iterations to get right. Vite ignores the PORT env variable, so the config needs to match what Vite actually does, not what we want it to do. Learned that lesson.

Removing the 35MB binary from git was important - that should never have been committed. Now it's properly gitignored.

The pocketbase.ts discussion was interesting. User questioned if it's needed - it is, but the SDK in package.json isn't used. Good to know for future cleanup.

---

## What Went Well
- PM2 naming now crystal clear
- Port mapping documented correctly
- Deployment successful
- Binary removed from git

## Lessons Learned
- **Pattern**: PM2 app names should match repo names exactly
- **Pattern**: Vite ignores PORT env - document actual ports, not desired
- **Discovery**: pocketbase SDK installed but custom pbFetch used instead

## Next Steps
- [ ] Consider removing unused pocketbase SDK from package.json
- [ ] Deploy oracle-universe-web when ready
- [ ] Add more features to the network

---

‚àø
